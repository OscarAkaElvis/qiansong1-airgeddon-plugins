var component=function(b,A){function l(a){this.value="";this.dom=this.tips=this.label=this.input=null;this.showEye=!1;this.qualified=!0;this.disabled=!1;this.state=l.STATE.NORMAL;this.isMouseOver=!1;this._ops={type:l.TYPE.PLAIN_TEXT,containerType:l.CONTAINER.NORMAL,strength:{show:!1},complexity:0,label:{value:"",position:""},props:{},check:{},targetId:"",tips:{},hint:{},isAllowBlank:!0,isAllowBlankStr:errStr.inputNotAllowBlank,isAllowAllSpace:!0,isAllowAllSpaceStr:errStr.inputNotAllowAllSpace,className:null,
innerElement:{id:null,className:null},size:l.SIZE.MEDIUM};for(var b in a){var c=a[b];if("undefined"!=typeof this._ops[b])if(isObject(c))for(var h in c)this._ops[b][h]=c[h];else this._ops[b]=c}this._ops.props.autocomplete="off";this.showEye=this._ops.type==l.TYPE.CIPHER_TEXT||"password"==this._ops.props.type;this._render();this._eventHandle()}function t(a){this.isLoading=!1;this.btnText=this.loadIcon=null;this.disabled=!1;this.btn=null;this._ops={type:t.TYPE.PRIMARY,text:"按钮1",id:"",onClick:null,ev_trigger:null,
props:{}};this._init(a)}function r(a){this.checkbox=null;this.disabled=!1;this._ops={targetId:"",label:"",checked:!1,onClick:null,className:null};for(var b in a){var c=a[b];"undefined"!=typeof this._ops[b]&&(this._ops[b]=c)}this._render()}function v(a){this.checked=this.radio=null;this.disabled=!1;this._ops={targetId:"",label:"",checked:!1,name:"",value:"",onClick:null};for(var b in a){var c=a[b];"undefined"!=typeof this._ops[b]&&(this._ops[b]=c)}this._render()}function C(a){this.dom=null;this._ops=
{list:[],targetId:"",defaultTab:null};for(var b in a){var c=a[b];"undefined"!=typeof this._ops[b]&&(this._ops[b]=c)}this._render()}function q(a){this._ops={hasTitle:!0,title:"Dialog",contentID:null,content:"This is example of Dialog",size:q.SIZE.SMALL,hasCloseIcon:!0,closeIconHandle:null,bottom:null,renderCallBack:null,zIndexValue:1E3,isOffsetNeed:null,isConstant:!1,type:q.TYPE.NORMAL,className:null};this.showing=!1;this.status="idle";for(var b in a)this._ops[b]=a[b];this._render()}function p(a){this.loadingObj=
this.titleBtnContainer=this.table=null;this.isShowLoadingWorking=!1;this.editTrObj=this.fixedHeightObj=this.blankObj=null;this.data=[];this.selAllCheckBoxObj=null;this._constant={optionTdWidth:"130px",checkboxTdWidth:"40px",headPadding:"8px",normalTrHeight:"40px",deviceTrHeight:"80px"};this._ops={targetId:"",title:null,hasHead:!0,head:null,column:null,operation:null,hasCheckBox:!0,editable:!0,deletable:!0,addable:!0,delBtnIndex:"1",addBtnIndex:"2",deleteOption:{icon:"icon-delete",str:btn.deleteSel},
addOption:{icon:"icon-add",str:btn.add},itemOptionTitle:label.operate,itemOptionTitleWidth:this._constant.optionTdWidth,itemOption:null,tableOption:null,tableOptionShow:!0,clickList:{click_add_item:null,click_del_item:{icon:"icon-delete",str:btn.clear,asyn:null,func:null},click_save:null,click_cancel:null,click_check:null},allCheckCallback:null,eventList:"ev_default ev_edit ev_sel_none ev_none_item ev_has_item ev_max_item".split(" "),numPerPage:10,currentPage:1,max:32,hasFixedHeight:null,clearAllTips:"",
fillBlankRow:!1,blankOptions:{firstRenderShow:!1,str:label.nonItemTips,height:1},loadingOptions:{str:label.loadingTips,icon:"icon-loading",height:1},pageNumClickFunc:null,pageTurnCallback:null,type:p.TYPE.NORMAL};this._state=p.STATE.DEFAULT;for(var b in a){var c=a[b];if(isObject(c))for(var h in c)this._ops[b][h]=c[h];else this._ops[b]=c}this._render()}function B(a){this.iframeName=this.iframe=this.button=this.text=this.form=this.dom=null;this._ops={targetId:"",fileFilter:null,upLoadCallback:null,
loadStr:null};for(var b in a)this._ops[b]=a[b];this._render()}var E=/\d/,G=/^\d+$/,J=/[a-zA-Z]/,K=/^[a-zA-Z]+$/,L=/[\x21-\x2f\x3a-\x40\x5b-\x60\x7b-\x7e\s]/,M=/^[\x21-\x2f\x3a-\x40\x5b-\x60\x7b-\x7e\s]+$/;l.prototype._eyeClick=function(a){var e=b(this).parent(),c=b(this).siblings("input"),h=c.attr("type"),c=c.val(),g=e.html(),g="password"==h?g.replace(/type=["]?password["]?/,'type="text"').replace("icon-ciphertext","icon-plaintext"):g.replace(/type=["]?text["]?/,'type="password"').replace("icon-plaintext",
"icon-ciphertext");e.html(g);a.input=e.children("input").val(c)[0];setDomCursorPos(a.input,a.input.value.length);a._eventHandle()};l.prototype._render=function(){this.input=b("<input />",this._ops.props)[0];this.dom=b('<ul><li class="inputLi"></li><li class="note"><div class="noteCon"><p></p></div></li><li class="strength"><div><span></span></div></li><li class="tableNote"><div class="noteCon"><p></p></div></li></ul>')[0];b(this.dom).attr("class","inputCMPT "+this._ops.size+(null!=this._ops.innerElement.id?
" innerElement":"")+(this._ops.className?" "+this._ops.className:""));var a=b(this.dom).find("li.inputLi");""!=this._ops.label.value&&(l.LABEL.INNER==this._ops.label.position?(this.label=b("<label>"+this._ops.label.value+"</label>")[0],a.append(this.label),b(this.dom).addClass(l.LABEL.INNER)):(this.label=b('<label class="'+l.LABEL.OUTER+'">'+this._ops.label.value+"</label>")[0],b(this.label).insertBefore(a)));b("#"+this._ops.targetId).append(this.dom);a.append(this.input);this.value=this.input.value;
this.showEye?b("<i></i>",{"class":"eye iconfont"}).appendTo(a).addClass("password"==this._ops.props.type?"icon-ciphertext":"icon-plaintext"):null!=this._ops.tips.value&&(this.tips=b("<span></span>",{"class":this._ops.tips.className||""}).html(this._ops.tips.value).appendTo(a)[0],null!=this._ops.tips.onClick&&(this.tips.onclick=this._ops.tips.onClick));null!=this._ops.hint.value&&(this.hint=b("<span></span>",{"class":(this._ops.hint.className||"")+" hint"}).html(this._ops.hint.value).appendTo(a)[0],
null!=this._ops.hint.onClick&&(this.hint.onclick=this._ops.hint.onClick));null!=this._ops.innerElement&&(this.innerElm=b("<div></div>",{"class":(this._ops.innerElement.className||"")+" innerElement",id:this._ops.innerElement.id}).appendTo(this.dom)[0]);l.TYPE.STATIC_TEXT==this._ops.type&&this.toggleStatic(!0)};l.prototype.showNote=function(a){var e,c,h;this._ops.containerType==l.CONTAINER.NORMAL?(e=b(this.dom).find("li.note")[0],c=b(this.dom).find("li.note p")[0],h=b(this.dom).outerWidth(!0),null!=
this._ops.innerElement&&(h=parseInt(h)-b(this.innerElm).outerWidth(!0)),b(this.dom).find("li.note").css("left",h)):(e=b(this.dom).find("li.tableNote")[0],c=b(this.dom).find("li.tableNote p")[0],b(this.dom).find("li.tableNote").css("top",parseInt(b(this.dom).css("height"))+3),b(this.dom).find("li.tableNote div.noteCon").css("width",b(this.dom).css("width")),b(this.dom).find("li.tableNote div.noteCon p").css("line-height",b(this.dom).css("height")));void 0!=e&&(void 0!=a&&(c.innerHTML=a),e.style.display=
"table-cell",b(this.dom).find("li.inputLi").removeClass("focus").addClass("warn"),this.hint&&b(this.hint).css("display","none"),this.state=l.STATE.ERROR)};l.prototype.closeNote=function(){var a;a=this._ops.containerType==l.CONTAINER.NORMAL?b(this.dom).find("li.note")[0]:b(this.dom).find("li.tableNote")[0];b(a).css("display","none");b(this.dom).find("li.inputLi").removeClass("warn");this.hint&&b(this.hint).css("display","block");this.state=l.STATE.NORMAL};l.prototype._checkMixChars=function(){return E.test(this.input.value)&&
J.test(this.input.value)&&L.test(this.input.value)};l.prototype._showStrength=function(){var a=b(this.dom).find("li.strength"),e=a.find("div"),c=a.find("span"),h=this.input.value.length,g=this._ops.strength.least||0,f=this._ops.strength.critical||6,d;d=b(this.dom).outerWidth(!0);null!=this._ops.innerElement&&(d=parseInt(d)-b(this.innerElm).outerWidth(!0));a.css("left",d);h>=g?a.css("display","table-cell"):a.css("display","none");G.test(this.input.value)||M.test(this.input.value)||K.test(this.input.value)?
this.input.value.length<=f?(e.attr("class","weak"),c.html(label.passwordWeak)):(e.attr("class","medium"),c.html(label.passwordMedium)):!0==this._checkMixChars()?(e.attr("class","strong"),c.html(label.passwordStrong)):this.input.value.length<=f?(e.attr("class","medium"),c.html(label.passwordMedium)):(e.attr("class","strong"),c.html(label.passwordStrong))};l.prototype._hideStrength=function(){b(this.dom).find("li.strength").css("display","none")};l.prototype._eventHandle=function(){function a(){if(!b(this).parent().hasClass("static")){b(this).parent().removeClass("focus");
e._hideStrength();var a=e._ops.check;""==e.getValue()&&!1===e._ops.isAllowBlank?(e.qualified=!1,e.showNote(e._ops.isAllowBlankStr)):""==String(e.getValue()).replace(/^\s+|\s+$/g,"")&&!1===e._ops.isAllowAllSpace?(e.qualified=!1,e.showNote(e._ops.isAllowAllSpaceStr)):(e.qualified=!0,e.qualified&&"function"==typeof a.blur&&(e.qualified=a.blur.call(e)),e.qualified&&"function"==typeof a.keyup&&(e.qualified=a.keyup.call(e)))}}var e=this,c=b(this.dom).find("li.inputLi");if(!0==OS.portable)e.isMouseOver=
!1,b(this.input).bind("blur",a);else c.on("mouseover",function(c){e.isMouseOver=!0;b(e.input).unbind("blur",a);b(e.input).addClass("mouseover")}).on("mouseout",function(){e.isMouseOver=!1;b(e.input).bind("blur",a);b(e.input).removeClass("mouseover")});b(this.input).on("focus",function(a){b(this).parent().not(".warn").addClass("focus")});b(this.input).on("keyup",function(a){e.value=this.value;e.closeNote();e.qualified=!0;var c=e._ops.check;"function"==typeof c.keyup&&(e.qualified=c.keyup.call(e,a));
e.qualified&&e._ops.strength.show?e._showStrength():e._hideStrength();e.qualified&&e.value.length>=SYS_LOGIN_PWD_LENGTH_MIN&&0<e._ops.complexity&&getPwdComplexity(e.value)<e._ops.complexity&&e.showNote(errStr.pwdCharTypeNotEnough);b(this).parent().not(".warn").addClass("focus")});b(this.dom).find("i.eye").on("click",function(){e._eyeClick.call(this,e)})};l.prototype.checkAll=function(){var a=this._ops.check;this.qualified=!0;if(""==this.input.value&&!1===this._ops.isAllowBlank)return this.qualified=
!1,this.showNote(errStr.inputNotAllowBlank),this.qualified;if(""==String(this.input.value).replace(/^\s+|\s+$/g,"")&&!1===this._ops.isAllowAllSpace)return this.qualified=!1,this.showNote(errStr.inputNotAllowAllSpace),this.qualified;"function"==typeof a.keyup&&(this.qualified=a.keyup.call(this));this.qualified&&"function"==typeof a.blur&&(this.qualified=a.blur.call(this));this.qualified&&this.input.value.length>=SYS_LOGIN_PWD_LENGTH_MIN&&0<this._ops.complexity&&getPwdComplexity(this.input.value)<this._ops.complexity&&
(this.qualified=!1,this.showNote(errStr.pwdCharTypeNotEnough));return this.qualified};l.prototype.disable=function(a){var e=this;(e.disabled=a)?(b(this.input).attr("disabled","disabled").css("cursor","default").siblings("i.eye").off("click"),b(this.dom).find("li.inputLi").addClass("disabled"),this.closeNote()):(b(this.input).removeAttr("disabled").css("cursor","text").siblings("i.eye").off("click").on("click",function(){e._eyeClick.call(this,e)}),b(this.dom).find("li.inputLi").removeClass("disabled"))};
l.prototype.getValue=function(){return this.value=this.input.value};l.prototype.setValue=function(a,e){this.value=this.input.value=a;if(void 0!=e)for(var c in e)b(this.input).css(c,e[c])};l.prototype.setLabel=function(a){this.label.innerHTML=a};l.prototype.setTips=function(a){null!=a.value&&(this.tips.innerHTML=a.value);null!=a.className&&(this.tips.className=a.className);null!=a.onClick&&(this.tips.onclick=a.onClick)};l.prototype.toggleStatic=function(a){var e=b(this.dom).find("li.inputLi");a?(e.addClass("static"),
b(this.dom.parentNode).hasClass("deviceName")||b(this.dom.parentNode).hasClass("deviceSpeedNum")||b(this.input).attr("readonly","readonly"),b(this.input).css("cursor","default"),b(this.tips).css("display","none"),this.closeNote()):(e.removeClass("static"),b(this.dom.parentNode).hasClass("deviceName")||b(this.dom.parentNode).hasClass("deviceSpeedNum")||b(this.input).removeAttr("readonly"),b(this.input).css("cursor","text"),b(this.tips).css("display","table-cell"))};l.TYPE={PLAIN_TEXT:"plaintext",CIPHER_TEXT:"ciphertext",
STATIC_TEXT:"statictext"};l.LABEL={INNER:"innerLbl",OUTER:"outerLbl"};l.SIZE={SMALL:"small",MEDIUM:"medium"};l.CONTAINER={NORMAL:"normal",TABLE:"table"};l.STATE={NORMAL:"normal",ERROR:"error"};t.prototype._init=function(a){for(var b in a){var c=a[b];"undefined"!=typeof this._ops[b]&&(this._ops[b]=c)}this._render()};t.prototype._render=function(){var a=this;this.btn=id(this._ops.id);emptyNodes(this.btn);this.btn.className="buttonCMPT "+this._ops.type;this.btn.onclick=function(){a._ops.ev_trigger&&
"string"==typeof a._ops.ev_trigger&&b(a).trigger(a._ops.ev_trigger);a.isLoading||"function"!=typeof a._ops.onClick||a.disabled||a._ops.onClick.call(a)};this.btnText=document.createElement("span");this.btnText.innerHTML=this._ops.text;this.btn.appendChild(this.btnText);this.loadIcon=document.createElement("i");this.loadIcon.className="loading iconfont icon-loading";this.btn.appendChild(this.loadIcon);b(this.btn).css(this._ops.props)};t.prototype.showLoading=function(){this.isLoading=!0;this.loadIcon.style.display=
"inline-block";this.btnText.style.display="none";this.btn.style.cursor="default";this.btn.style.pointerEvents="none"};t.prototype.closeLoading=function(){this.isLoading=!1;this.loadIcon.style.display="none";this.btnText.style.display="inline";this.btn.style.cursor="pointer";this.btn.style.pointerEvents="auto"};t.prototype.setState=function(a){this.isLoading||this._init(a)};t.prototype.disable=function(a){(this.disabled=a)?b(this.btn).addClass("disabled"):b(this.btn).removeClass("disabled")};t.TYPE=
{FUNCTIONAL:"functional",PRIMARY:"primary",SECONDARY:"secondary"};r.prototype._render=function(){var a,e=id(this._ops.targetId),c=this;b(e).addClass(this._ops.className);this.checkbox=document.createElement("input");this.checkbox.id=this._ops.targetId+(new Date).getTime();this.checkbox.type="checkbox";this.checkbox.checked=this._ops.checked;e.appendChild(this.checkbox);a=document.createElement("label");a.className="checkbox iconfont icon-tickinside"+(this.checkbox.checked?" checked":"");a.htmlFor=
this.checkbox.id;a.innerHTML="<span>"+this._ops.label+"</span>";a.onclick=function(a){c.disabled||(c.checkbox.checked?b(this).removeClass("checked"):b(this).addClass("checked"),A.setTimeout(function(){c._ops.onClick&&c._ops.onClick.call(c.checkbox)},0))};e.appendChild(a)};r.prototype.setValue=function(a,e,c){"boolean"!=typeof a||this.disabled&&!e||(a?(this.checkbox.checked=!0,b(this.checkbox).parent().find("label").addClass("checked")):(this.checkbox.checked=!1,b(this.checkbox).parent().find("label").removeClass("checked")),
void 0!=c&&!0==c&&this._ops.onClick&&this._ops.onClick.call(this.checkbox))};r.prototype.getValue=function(){if(void 0!=this.checkbox)return this.checkbox.checked};r.prototype.disable=function(a){void 0!=a&&"boolean"==typeof a&&(a?(this.checkbox.checked=!0,b(this.checkbox).parent().find("label").addClass("checked")):(this.checkbox.checked=!1,b(this.checkbox).parent().find("label").removeClass("checked")),b(this.checkbox).parent().find("label").addClass("disabled"),this.disabled=!0)};r.prototype.enable=
function(a){void 0==a&&"boolean"==typeof a&&(a?(this.checkbox.checked=!0,b(this.checkbox).parent().find("label").addClass("checked")):(this.checkbox.checked=!1,b(this.checkbox).parent().find("label").removeClass("checked")),b(this.checkbox).parent().find("label").removeClass("disabled"),this.disabled=!1)};v.prototype._render=function(){var a=this,e=id(this._ops.targetId),c=this._ops.label,h=this._ops.name,g=this._ops.value,f;void 0!=e&&(void 0==h&&"string"!=typeof h&&0==h.length&&(h="radio_"+(new Date).getTime(),
this._ops.name=h),this.checked=this._ops.checked,this.radio=document.createElement("i"),this.radio.className="radio"+(!0==this._ops.checked?" checked":""),b(this.radio).attr("name",h),e.appendChild(this.radio),"string"==typeof c&&0<c.length&&(f=document.createElement("label"),f.className="radioLabel",f.innerHTML=c,e.appendChild(f)),b(e).find("i.radio, label.radioLabel").on("click",function(){b(this.parentNode).find("i.radio").hasClass("disabled")||(b("i.radio[name="+h+"]").not(b(this.parentNode).find("i.radio")).trigger("ev_cancel"),
b(this.parentNode).find("i.radio").trigger("ev_select"),null!=a._ops.onClick&&"function"==typeof a._ops.onClick&&a._ops.onClick.call(a,g))}),b(this.radio).on("ev_cancel",function(){a.checked=!1;b(this).removeClass("checked")}).on("ev_select",function(){a.checked=!0;b(this).addClass("checked")}))};v.prototype.setValue=function(a,e,c){var h=this._ops.name;if(!0!=this.disable||!0==e)this.checked=a,!0==a?b(this.radio).addClass("checked"):b(this.radio).removeClass("checked"),a?(b("i.radio[name="+h+"]").not(b(this.radio)).trigger("ev_cancel"),
b(this.radio).trigger("ev_select"),void 0!=c&&!0==c&&b(this.radio).trigger("click")):b(this.radio).trigger("ev_cancel")};v.prototype.getValue=function(){return this.checked};v.prototype.disable=function(a){this.disabled==a;a?b(this.radio).addClass("disabled"):b(this.radio).removeClass("disabled")};C.prototype._render=function(){var a=id(this._ops.targetId),e,c,h,g=this;this.dom=document.createElement("ul");this.dom.className="tabCPMT";e=document.createElement("li");e.className="underline";this.dom.appendChild(e);
for(var f=0;f<this._ops.list.length;f++)h=this._ops.list[f],b("#"+h.contentId).css("display","none"),e=document.createElement("li"),e.onclick=function(a){return function(){var e=g._ops.list[g.getCurrentIndex()],c=this;b(this).hasClass("active")||(b(this).addClass("active").siblings().removeClass("active"),b(this).siblings("li.underline").css({left:this.offsetLeft+"px",left:this.offsetLeft+"px",width:this.offsetWidth+"px"}),void 0!=e.contentId?b("#"+e.contentId).fadeOut(50,function(){b("#"+a.contentId).fadeIn();
"function"==typeof a.onClick&&a.onClick.call(c,g)}):"function"==typeof a.onClick&&a.onClick.call(c,g))}}(h),this.dom.appendChild(e),c=document.createElement("span"),c.innerHTML=h.name,e.appendChild(c);a.appendChild(this.dom);b(this.dom).children(":last-child").css("margin-right","0");null==this._ops.defaultTab&&(this._ops.defaultTab=0);b(this.dom).children(":not(.underline)").eq(this._ops.defaultTab).click()};C.prototype.setTabNameByIndex=function(a){b(this.dom).find("li span").eq(a.index).html(a.name)};
C.prototype.getCurrentIndex=function(){var a=0;b(this.dom).children(":not(.underline)").each(function(e,c){b(c).hasClass("active")&&(a=e)});return a};q.prototype._render=function(){var a=this;a.container=null;var e="",c=id("Dialog"),h;a._ops.size!=q.SIZE.SMALL&&a._ops.size!=q.SIZE.MEDIUM&&a._ops.size!=q.SIZE.LARGE&&(a._ops.size=q.SIZE.SMALL);a._ops.type!=q.TYPE.NORMAL&&a._ops.type!=q.TYPE.ALARM&&a._ops.type!=q.TYPE.LOADING&&a._ops.type!=q.TYPE.CUSTOM&&(a._ops.type=q.TYPE.NORMAL);h=document.createElement("div");
h.className="dialogBox "+a._ops.size+(!0==a._ops.isConstant?" constant":"")+(null!=a._ops.className?" "+a._ops.className:"");h.innerHTML="";!0==a._ops.hasTitle&&"string"==typeof a._ops.title&&(e+='<div class="dialogTitle"><span>'+a._ops.title+"</span>",e=a._ops.hasCloseIcon?e+'<i class="dlgCloseBtn iconfont icon-close"></i></div>':e+"</div>");a._ops.type==q.TYPE.NORMAL?e+='<div class="dialogContent '+q.TYPE.NORMAL+'"><span>'+a._ops.content+"</span></div>":a._ops.type==q.TYPE.LOADING?(e+='<div class="dialogContent '+
q.TYPE.LOADING+'"><i class="iconfont icon-loading"></i>',"string"==typeof a._ops.content?e+='<span class="primary">'+a._ops.content+"</span></div>":b.isEmptyObject(a._ops.content)||("string"==typeof a._ops.content.primary&&(e+='<span class="primary">'+a._ops.content.primary+"</span>"),"string"==typeof a._ops.content.secondary&&(e+='<span class="secondary">'+a._ops.content.secondary+"</span>"),e+="</div>")):a._ops.type==q.TYPE.ALARM?e+='<div class="dialogContent '+q.TYPE.ALARM+'"><i></i><div class="content"><span>'+
a._ops.content+"</span></div></div>":a._ops.type==q.TYPE.CUSTOM&&(e+='<div class="dialogContent '+q.TYPE.CUSTOM+'">'+a._ops.content+"</div>");if(null!=a._ops.bottom){b.isArray(a._ops.bottom)||(a._ops.bottom=[a._ops.bottom]);for(var e=e+'<div class="dialogBottom">',g=0;g<a._ops.bottom.length;g++)e+='<div id="'+a._ops.bottom[g].id+'"></div>';e+="</div>"}h.innerHTML=e;a.container=h;c.appendChild(a.container);a._ops.type==q.TYPE.ALARM&&(e=parseInt(b(a.container).find("div.dialogContent").actual("width")),
c=parseInt(b(a.container).find("div.dialogContent").css("padding")),g=parseInt(b(a.container).find("div.dialogContent.alarm i").css("width")),b(a.container).find("div.content").css("width",e-c-g));if(null!=a._ops.bottom)for(g=0;g<a._ops.bottom.length;g++)a._ops.bottom[g].obj=new t(a._ops.bottom[g]);if(!0==a._ops.hasTitle&&a._ops.hasCloseIcon)b(a.container).find(".dlgCloseBtn").on("click",function(e){b(this).hasClass("disabled")||a.hide(function(){a._ops.closeIconHandle&&"function"==typeof a._ops.closeIconHandle&&
a._ops.closeIconHandle()})});"function"==typeof a._ops.renderCallBack&&a._ops.renderCallBack.call(a);b("body").resize(function(){var a=getActualSize();b(h).trigger("ev_screen_resize",[a.windowWidth,a.windowHeight])});b(h).on("ev_screen_resize",function(e,c,g){var k=b(h).actual("width");e=b(h).actual("height");c=parseInt(c/2)-parseInt(k/2);g=parseInt(g/2)-parseInt(e/2);c=0<c?c:0;g=0<g?g:0;null!=a.isOffsetNeed&&(c+=a.isOffsetNeed.left,g+=a.isOffsetNeed.top);b(h).css("top",g);b(h).css("left",c)})};q.prototype.resetPosition=
function(){};q.prototype._resetContent=function(a){var e=this.container;this._ops.type==q.TYPE.NORMAL||this._ops.type==q.TYPE.ALARM?b(e).find("div.dialogContent span").html(a):this._ops.type==q.TYPE.LOADING&&("string"==typeof a?b(e).find("div.dialogContent span.primary").html(a):b.isEmptyObject(a)||(b(e).find("div.dialogContent span.primary").html(a.primary),b(e).find("div.dialogContent span.secondary").html(a.secondary)))};q.prototype.show=function(a){if("showing"!=this.status){var e=id("Dialog"),
c=this.container,h=this.state.dialogArr,g=this,f,d;a&&!b.isEmptyObject(a)&&a.content&&this._resetContent(a.content);"0"==b(c).css("opacity")&&b(c).css("opacity","");this.status="showing";if(0==this.state.count)b(c).css("z-index",this._ops.zIndexValue),h.push({size:this._ops.size,zIndexValue:this._ops.zIndexValue,obj:g});else{a=h[h.length-1];d=a.zIndexValue+1;f=document.createElement("div");f.className="multiDialogMask";var m=getActualSize();b(f).css("z-index",d).css("width",m.documentWidth).css("height",
m.documentHeight);e.insertBefore(f,c);d+=1;h.push({size:this._ops.size,zIndexValue:d,mask:f,obj:g});b(c).css("z-index",d);a.size==this._ops.size&&(this.isOffsetNeed={top:24,left:24})}this.state.count++;1==this.state.count?(b("body").trigger("resize"),b(c).css("display","block"),this.showing=!0,showMask(function(){b(e).fadeIn(150,function(){g.showing=!1;g.status="showed"})})):(b("body").trigger("resize"),b(f).css("display","block"),this.showing=!0,b(c).fadeIn(150,function(){g.showing=!1;g.status="showed"}))}};
q.prototype.hide=function(a){if("hiding"==this.status)b.setTimeout(function(){"function"==typeof a&&a()},450);else{var e=id("Dialog"),c=this.container,h,g=this;if(1==this.state.count)if("none"!=b(c).css("display"))g.status="hiding",b.setTimeout(function(){b(e).fadeOut(250,function(){b(c).css("display","none");hideMask(function(){g.status="idle";"function"==typeof a&&a()})})},!0==g.showing?450:0);else{"function"==typeof a&&a();return}else if("none"!=b(c).css("display"))g.status="hiding",b.setTimeout(function(){b(c).fadeOut(250,
function(){g.status="idle";"function"==typeof a&&a()})},!0==g.showing?450:0);else{"function"==typeof a&&a();return}h=this.state.dialogArr.pop();h.mask&&e.removeChild(h.mask);this.state.count--;this.isOffsetNeed=null}};q.prototype.state={count:0,dialogArr:[]};q.prototype.resetBtnEvent=function(a){var e=this._ops.bottom,c,h,g,f,d;b.isArray(a)||(a=[a]);for(c=0;c<a.length;c++)for(d=a[c].id,f=a[c].func,h=0;h<e.length;h++)d==e[h].id&&(g=e[h].obj,g._ops.onClick=f)};q.SIZE={SMALL:"small",MEDIUM:"medium",
LARGE:"large"};q.TYPE={NORMAL:"normal",ALARM:"alarm",LOADING:"loading",CUSTOM:"custom"};p.prototype._render=function(){var a=this,e=id(a._ops.targetId),c=a._ops.hasHead,h=a._ops.head,g,f,d,m,k,n;if(void 0!==e){if(null!=a._ops.title&&"string"==typeof a._ops.title||null!=a._ops.tableOption&&b.isArray(a._ops.tableOption)&&0!=a._ops.tableOption.length||a._ops.deletable||a._ops.addable)if(g=document.createElement("div"),g.id=a._ops.targetId+"TitleContainer",g.className="tableTitleContainer",e.appendChild(g),
null!=a._ops.title&&"string"==typeof a._ops.title&&(f=document.createElement("span"),f.className="tableTitleText",f.innerHTML=a._ops.title,g.appendChild(f)),f=document.createElement("div"),f.className="tableTitleBtnContainer",g.appendChild(f),a._ops.tableOptionShow){a._ops.deletable&&(g=document.createElement("div"),g.className="tableOption delete disabled selRelate",k='<i class="iconfont '+a._ops.deleteOption.icon+'"></i><span>'+a._ops.deleteOption.str+"</span>",g.innerHTML=k,g.name="tableOptionIndex-"+
a._ops.delBtnIndex,g.onclick=function(){var b=a._getSelectItem();a._delDataHandle(b.selArrStr,b.selArr)},f.appendChild(g));if(null!=a._ops.tableOption&&b.isArray(a._ops.tableOption)&&0!=a._ops.tableOption.length)for(var l=0;l<a._ops.tableOption.length;l++)d=a._ops.tableOption[l],g=document.createElement("div"),n=d.func,g.className="tableOption "+d.type,d.selRelate&&!1!=d.selRelate&&(g.className+=" selRelate"),k='<i class="iconfont '+d.icon+'"></i><span>'+d.str+"</span>",g.innerHTML=k,g.name=d.index?
"tableOptionIndex-"+d.index:"tableOptionIndex-"+(3+l),g.onclick=function(e){return function(){if(!b(this).hasClass("disabled")){var c=a._getSelectItem();d.selRelate&&!1!=d.selRelate?"function"==typeof e&&e(c.selArrStr,c.selArr):"function"==typeof e&&e()}}}(n),f.appendChild(g);a._ops.addable&&(g=document.createElement("div"),g.className="tableOption add",k='<i class="iconfont '+a._ops.addOption.icon+'"></i><span>'+a._ops.addOption.str+"</span>",g.innerHTML=k,g.name="tableOptionIndex-"+a._ops.addBtnIndex,
g.onclick=function(){function e(b){!1!=b&&(!0==a._ops.hasCheckBox&&(f.cells[0].innerHTML=""),a._updateEvent(p.STATE.EDIT),a._pagingListInit(d,1))}var c=a.table,d,f,g={},h=0;b(this).hasClass("disabled")||!0!=a._setState(p.STATE.ADD)||(a.data.length==a._ops.max?(a._setState(p.STATE.DEFAULT,!0),a._updateEvent(p.STATE.DEFAULT)):(!0==a._ops.hasHead&&(h=1),f=c.insertRow(h),f.className="TableItemTd",d=a._getTableDataRows(),a._formatBlankData(g),a.closeBlankTips(null,!0),a._fillEditRow("add",f,g,h),null!=
a._ops.clickList.click_add_item?(c=a._ops.clickList.click_add_item.func,!0==a._ops.clickList.click_add_item.asyn?c(e):e(c())):e(!0)))},f.appendChild(g));g=b(f).find("div.tableOption");g.sort(function(a,b){var e=parseInt(a.name.substr(17)),c=parseInt(b.name.substr(17));return e>c?1:e<c?-1:0});b(f).empty().append(g);b(f).find(".tableOption").last().addClass("tableOptionLast");this.titleBtnContainer=f}g=b("<div></div>").attr("class",a._ops.targetId+"TableContainer")[0];e.appendChild(g);a.table=document.createElement("table");
a.table.id=a._ops.targetId+(new Date).getTime();a.table.className="Table "+a._ops.type;null!=a._ops.hasFixedHeight&&b("div."+a._ops.targetId+"TableContainer").css("height",parseInt(a._constant.normalTrHeight)*(parseInt(a._ops.hasFixedHeight)+(a._ops.hasHead?1:0))).css("border-bottom","1px solid #E7E7E7");g.appendChild(a.table);this.fixedHeightObj=b("<div></div>").attr("class","tableFixedHeightCon");g.appendChild(this.fixedHeightObj[0]);this.loadingObj=b("<div></div>").attr("class","tableLoadingCon");
null!=a._ops.hasFixedHeight?this.loadingObj.css("height",parseInt(a._constant.normalTrHeight)*parseInt(a._ops.hasFixedHeight)):this.loadingObj.css("height",parseInt(a._constant.normalTrHeight)*parseInt(a._ops.loadingOptions.height)).css("border-bottom","1px solid #E7E7E7");this.loadingObj.append(b("<div class='loadingContent'><i class='iconfont loading "+a._ops.loadingOptions.icon+"'></i><span>"+a._ops.loadingOptions.str+"</span></div>"));g.appendChild(this.loadingObj[0]);this.loadingObj.find("div.loadingContent").css("margin-top",
parseInt(this.loadingObj.css("height"))/2-parseInt(this.loadingObj.find("div.loadingContent").actual("height"))/2);this.blankObj=b("<div></div>").attr("class","tableBlankCon");null!=a._ops.hasFixedHeight?this.blankObj.css("height",parseInt(a._constant.normalTrHeight)*parseInt(a._ops.hasFixedHeight)):this.blankObj.css("height",parseInt(a._constant.normalTrHeight)*parseInt(a._ops.blankOptions.height)).css("border-bottom","1px solid #E7E7E7");this.blankObj.append(b("<span>"+a._ops.blankOptions.str+"</span>"));
g.appendChild(this.blankObj[0]);this.blankObj.find("span").css("margin-top",parseInt(this.blankObj.css("height"))/2-parseInt(this.blankObj.find("span").actual("height")/2));if(c&&null!=h&&b.isArray(h)){e=a.table.insertRow(-1);e.className="TableHead "+a._ops.type;c=parseInt(b(a.table).actual("width"));a._ops.hasCheckBox&&(c-=parseInt(a._constant.checkboxTdWidth));if(a._ops.editable||a._ops.deletable||a._ops.itemOption)c-=parseInt(a._ops.itemOptionTitleWidth);a._ops.hasCheckBox&&(m=e.insertCell(-1),
m.className="TableHeadTd "+a._ops.type,m.id=a.table.id+"CheckboxHead",setStyle(m,{textAlign:"left"}),cellWidth=parseInt(a._constant.checkboxTdWidth)-2*parseInt(a._constant.headPadding),setStyle(m,{width:cellWidth+"px"}),a.selAllCheckBoxObj=new r({targetId:m.id,onClick:function(){for(var e=a.table.rows,c=e.length,d=this.checked,f=!1,g=1,h=a._getState()==p.STATE.ADD?1:0,g=g+h;g<c;g++)"none"!=e[g].style.display&&a.data[a.data.length-g+h].CHECK_BOX.setValue(d),!0==a.data[a.data.length-g+h].CHECK_BOX.getValue()&&
(f=!0);d||f?b(a).trigger("ev_sel_item"):b(a).trigger("ev_sel_none");a._ops.allCheckCallback&&a._ops.allCheckCallback(d||f)}}));for(f=0;f<h.length;f++)g=h[f],m=e.insertCell(-1),m.className="TableHeadTd "+a._ops.type,setStyle(m,{textAlign:"left"}),"undefined"!=typeof g.width&&(cellWidth=parseInt(g.width*c)-2*parseInt(a._constant.headPadding),setStyle(m,{width:cellWidth+"px"})),m.innerHTML=g.field,void 0!=g.props&&b.each(g.props,function(a,e){b(m).css(a,e)});if(a._ops.editable||a._ops.deletable||null!=
a._ops.itemOption)m=e.insertCell(-1),m.className="TableHeadTd "+a._ops.type,cellWidth=parseInt(a._ops.itemOptionTitleWidth)-2*parseInt(a._constant.headPadding),setStyle(m,{textAlign:"left",width:cellWidth+"px"}),m.innerHTML=a._ops.itemOptionTitle}b(a).on("ev_edit",function(){b(a.table).find("div.itemOption.edit").addClass("disabled")}).on("ev_default",function(){b(a.table).find("div.itemOption.edit").removeClass("disabled")}).on("ev_sel_none",function(){b(a.titleBtnContainer).find("div.tableOption.selRelate").addClass("disabled")}).on("ev_sel_item",
function(){b(a.titleBtnContainer).find("div.tableOption.selRelate").removeClass("disabled")}).on("ev_max_item",function(){b(a.titleBtnContainer).find("div.tableOption.add").addClass("disabled")}).on("ev_has_item",function(){b(a.titleBtnContainer).find("div.tableOption.add").removeClass("disabled")}).on("ev_none_item",function(){b(a.titleBtnContainer).find("div.tableOption.add").removeClass("disabled");!0==a._ops.blankOptions.firstRenderShow&&!0!=a.isShowLoadingWorking&&a.showBlankTips();a._ops.blankOptions.firstRenderShow=
!0});a._updateEvent(p.STATE.DEFAULT)}};p.prototype.setDataSource=function(a){b.isArray(a)&&(this.data=a)};p.prototype.loadData=function(a,e){var c=this.table,h=!0==this._ops.hasHead?1:0,g=this.data,f=g.length;void 0==a&&(a=1);for(var d=0,m=c.rows.length;d<m;d++)null!=c.rows[h]&&c.deleteRow(h);if(!1!=this._ops.hasHead||null!=this._ops.head){if(null==g||b.isArray(g)&&0==f)!0!=this.isShowLoadingWorking&&this.showBlankTips();else for(this.closeBlankTips(null,!0),d=f-1;0<=d;d--)h=g[d],tr=c.insertRow(-1),
tr.className="TableItemTd",this._insertRowData(tr,d,h);this._pagingListInit(f,a);this._updateEvent(p.STATE.DEFAULT)}};p.prototype.loadTargetPage=function(a,b,c){void 0==b&&(b=0);void 0==c&&(c=1);if(a instanceof Array&&b>=a.length){for(var h=Array(b),g=b-(c-1)*this._ops.numPerPage-a.length,f=0;f<b;f++)f>=g&&f-g<a.length?h[f]=a[f-g]:(h[f]={},this._formatBlankData(h[f]));this.setDataSource(h)}this.loadData(c)};p.prototype.showLoading=function(a){var b=this;"block"!=this.loadingObj.css("display")&&(this.isShowLoadingWorking=
!0,0!=this.data.length?(this.setDataSource([]),this.loadData(void 0,{isBlankShow:!1}),"block"==this.fixedHeightObj.css("display")&&this.fixedHeightObj.css("display","none"),this.loadingObj.fadeIn(150,function(){this.isShowLoadingWorking=!1;"function"==typeof a&&a()})):("block"==this.fixedHeightObj.css("display")&&this.fixedHeightObj.css("display","none"),"block"==this.blankObj.css("display")?this.closeBlankTips(function(){b.loadingObj.fadeIn(200,function(){b.isShowLoadingWorking=!1;"function"==typeof a&&
a()})}):b.loadingObj.fadeIn(200,function(){b.isShowLoadingWorking=!1;"function"==typeof a&&a()})))};p.prototype.closeLoading=function(a){this.loadingObj.fadeOut(200,function(){"function"==typeof a&&a()})};p.prototype.showBlankTips=function(a){"block"!=this.blankObj.css("display")&&this.blankObj.fadeIn(150,function(){"function"==typeof a&&a()})};p.prototype.closeBlankTips=function(a,b){void 0!=b&&!0==b?(this.blankObj.css("display","none"),"function"==typeof a&&a()):this.blankObj.fadeOut(150,function(){"function"==
typeof a&&a()})};p.prototype.getCurrentPage=function(){return this._ops.currentPage};p.prototype.getNumPerPage=function(){return this._ops.numPerPage};p.prototype._insertRowData=function(a,e,c){var h=this._ops.column,g=this,f,d;g._ops.hasCheckBox&&(f=a.insertCell(-1),f.className=this._ops.type,f.id=g.table.id+"Checkbox_"+e,setStyle(f,{textAlign:"left"}),checkBox=new r({targetId:f.id,onClick:function(){var a,e,c,d,f=!0,h=!1;if(!1!=g._ops.hasHead&&(a=g.table.rows,e=g.selAllCheckBoxObj,c=a.length,d=
g._getState()==p.STATE.ADD?1:0,c-=d,null!=e)){for(d=1;d<c;d++)checkbox=g.data[g.data.length-d].CHECK_BOX,"none"==a[d].style.display||checkbox.disabled||!1!=checkbox.getValue()?!0==checkbox.getValue()&&(h=!0):f=!1;h?b(g).trigger("ev_sel_item"):b(g).trigger("ev_sel_none");e.setValue(f);g._ops.clickList.click_check&&"function"==typeof g._ops.clickList.click_check.func&&g._ops.clickList.click_check.func(h,f)}}}),c.checkboxDisabled&&checkBox.disable(c.checkboxDisabledChecked),c.CHECK_BOX=checkBox);for(var m=
0;m<h.length;m++){var k=h[m];d=k.type;f=a.insertCell(-1);f.className=this._ops.type;b(f).attr("data-index",e);switch(d){case "button":var n=k.options,s=n.onRender;if("function"==typeof s&&!s(c))break;s=b("<div></div>").addClass("itemOption");d=b("<i></i>").addClass("iconfont "+n.icon);s[0].appendChild(d[0]);d=b("<span></span>").html(n.str);s[0].appendChild(d[0]);s.click(function(a,b,c){return function(){c.options.onClick(a,b)}}(e,c,k));f.appendChild(s[0]);break;case "time":d=c[k.name];4294967295==
d?f.innerHTML=label.forever:(n=new Date,n.setHours(parseInt(d/3600),parseInt(d%3600/60),parseInt(d%3600%60),0),f.innerHTML=n.toTimeString().substring(0,8));break;case "timeP":d=c[k.name];4294967295==d?f.innerHTML=label.forever:(n=parseInt(d/3600),s=parseInt(d%3600/60),d=parseInt(d%3600%60),10>n&&(n="0"+n),10>s&&(s="0"+s),10>d&&(d="0"+d),f.innerHTML=n+":"+s+":"+d);break;case "select":var n=k.options,s=c[k.name],u=k.blankStr;if(void 0!=n[0].value){d=0;for(var q=n.length;d<q;d++)if(n[d].value==s){d=
n[d].str;f.innerHTML=d==u?"":htmlEscape(d);break}}else d=n[s].str,f.innerHTML=d==u?"":htmlEscape(d);break;case "switch":s=c[k.name];d="";d=s==k.valueInfo.on?k.showStr.on:k.showStr.off;f.innerHTML=htmlEscape(d);break;case "checkbox":break;case "radio":var t=k.options;f.id=g.table.id+t.name+"Radio_"+e;new v({targetId:f.id,name:t.name,onClick:function(){"function"==typeof t.callback&&t.callback(e,this)}});break;case "strSelect":n=k.options;u=parseInt(c[k.name]);d="";for(q=0;q<n.length;q++)if(s=n[q],
void 0!=s.value){if(u==parseInt(s.value)){d=s.str;break}}else if(u==q){d=s.str;break}f.innerHTML=htmlEscape(d);break;case "ports":d=k.name.split(" ");f.innerHTML=c[d[1]]!=c[d[0]]?c[d[0]]+(0==c[d[1]].length?"":" - "+c[d[1]]):c[d[0]];break;case "ips":d=k.name.split(" ");f.innerHTML=c[d[1]]!=c[d[0]]?c[d[0]]+(0==c[d[1]].length?"":" - "+c[d[1]]):c[d[0]];break;case "speed":u=c[k.name];f.innerHTML=0==parseInt(u)?label.disLimit:u+label.unitKBs;break;case "signal":d=c[k.name];n=b("<i></i>").addClass("signal");
d=!0==isNaN(d)?1:d;1==d&&(d=2);n.addClass("signalStrength_"+d);f.appendChild(n[0]);break;case "auth":parseInt(c[k.name])!=uciWireless.encryptionType.none&&(d=b("<i></i>").addClass("iconfont icon-password auth"),f.appendChild(d[0]));break;case "mac":d=c[k.name];f.innerHTML=d=void 0==d?"":d.toString().toUpperCase();f.title=d;break;case "deviceBasicInfo":var w;macBrandTransition(c);d=b("<i></i>").addClass("deviceLogo");d[0].style.background="url(../web-static/images/basic.png) no-repeat scroll "+c.logoPosX+
"px "+c.logoPosY+"px";f.appendChild(d[0]);d=b("<div></div>").addClass("deviceInfoCon")[0];f.appendChild(d);n=b("<div></div>").addClass("deviceNameCon")[0];d.appendChild(n);c.isCurHost&&"1"==c.isCurHost&&(s=b("<span></span>").addClass("isCurHost").html("["+label.bHost+"]"),n.appendChild(s[0]));s=b("<div></div>").addClass("deviceName").attr("id",g.table.id+"_deviceName_"+e);n.appendChild(s[0]);w=new l({targetId:g.table.id+"_deviceName_"+e,type:l.TYPE.STATIC_TEXT,props:{type:"text",maxLength:DEVICE_NAME_LEN_MAX,
value:""==c.name?label.anonymousHost:c.name},size:l.SIZE.SMALL,check:{blur:function(a){return function(){if(void 0==a.isEditable||!0==a.isEditable)"function"==typeof a.onSave&&a.onSave(this,c),this.toggleStatic(!0),this.setValue(c.name)}}(k),keyup:function(a){return function(b){if(void 0==a.isEditable||!0==a.isEditable)b=b||window.event,13==b.keyCode&&("function"==typeof a.onSave&&a.onSave(this,c),this.toggleStatic(!0),this.setValue(c.name))}}(k)},containerType:l.CONTAINER.TABLE});if(void 0==k.isEditable||
!0==k.isEditable)s.addClass("editable"),b(w.dom).click(function(a){return function(){b(this).find("li.inputLi").hasClass("static")&&("function"==typeof a.onClick&&a.onClick(),w.toggleStatic(!1),w.input.select())}}(k));n=b("<span></span>").addClass("deviceIpMac").html(c.ip);d.appendChild(n[0]);n=b("<span></span>").addClass("deviceIpMac").css("margin-left","16px").html(c.mac.toUpperCase());d.appendChild(n[0]);break;case "deviceLinkType":d=c.type;n=c.wifi_mode;if("1"==d||"2"==d)switch(n){case uciHostsInfo.optValue.wifiMode.h2G:d=
label.wirelessNet2G;break;case uciHostsInfo.optValue.wifiMode.h5G:d=label.wirelessNet5G;break;case uciHostsInfo.optValue.wifiMode.h5G1:d=label.wirelessNet5G1;break;case uciHostsInfo.optValue.wifiMode.h5G4:d=label.wirelessNet5G2;break;default:d=label.wirelessLink}else d="0"==d?label.inetLink:"- - -";"1"==c.blocked&&(d="- - -");f.innerHTML=d;break;case "deviceSpeed":var y,z,u=c.up,s=c.down;"function"==typeof k.onTrans&&(u=k.onTrans(u),s=k.onTrans(s));"1"==c.blocked&&(s=u="- - -");n=b("<span></span>").addClass("deviceSpeed")[0];
d=b("<i></i>").addClass("iconfont icon-upstream");n.appendChild(d[0]);d=b("<span></span>").addClass("deviceSpeedNum").html(u);n.appendChild(d[0]);f.appendChild(n);n=b("<span></span>").addClass("deviceSpeed").css("margin-top","6px")[0];d=b("<i></i>").addClass("iconfont icon-downstream");n.appendChild(d[0]);d=b("<span></span>").addClass("deviceSpeedNum").html(s);n.appendChild(d[0]);f.appendChild(n);break;case "deviceSpeedLimit":n=c.upLimit;s=c.downLimit;q=b(b(this.table).find("tr.TableHead").find("td")[m]).css("width");
u=b("<span></span>").addClass("deviceSpeed").css("width",q)[0];f.appendChild(u);d=b("<i></i>").addClass("iconfont icon-upstreamlimit");u.appendChild(d[0]);d=b("<div></div>").addClass("deviceSpeedNum").attr("id",g.table.id+"_upLimit_"+e).css("width",parseInt(q)-16-4);u.appendChild(d[0]);y=new l({targetId:g.table.id+"_upLimit_"+e,type:l.TYPE.STATIC_TEXT,props:{type:"text",value:n+label.unitKBs,maxLength:6,placeholder:label.noSpeedLimit},size:l.SIZE.SMALL,tips:{value:label.unitKBs,className:"unit"},
check:{blur:function(a){return function(){var c=this;b.setTimeout(function(){b(a).trigger("ev_save",[c,"MouseOut"])},50)}}(f),keyup:function(a){return function(c){c=c||window.event;13==c.keyCode&&b(a).trigger("ev_save",[this,"KeyUp"])}}(f)},containerType:l.CONTAINER.TABLE});b(y.dom).click(function(a){return function(){function c(a){a&&(y.toggleStatic(!1),y.getValue()==label.noSpeedLimit?y.setValue(0):-1!=y.getValue().indexOf(label.unitKBs)&&y.setValue(y.getValue().replace(label.unitKBs,"")),y.input.select())}
b(this).find("li.inputLi").hasClass("static")&&"function"==typeof a.onClick&&a.onClick(c)}}(k));u=b("<span></span>").addClass("deviceSpeed").css("width",q).css("margin-top","6px")[0];f.appendChild(u);d=b("<i></i>").addClass("iconfont icon-downstreamlimit");u.appendChild(d[0]);d=b("<div></div>").addClass("deviceSpeedNum").attr("id",g.table.id+"_downLimit_"+e).css("width",parseInt(q)-16-4);u.appendChild(d[0]);z=new l({targetId:g.table.id+"_downLimit_"+e,type:l.TYPE.STATIC_TEXT,props:{type:"text",value:s+
label.unitKBs,maxLength:6,placeholder:label.noSpeedLimit},size:l.SIZE.SMALL,tips:{value:label.unitKBs,className:"unit"},check:{blur:function(a){return function(){var c=this;b.setTimeout(function(){b(a).trigger("ev_save",[c,"MouseOut"])},50)}}(f),keyup:function(a){return function(c){c=c||window.event;13==c.keyCode&&b(a).trigger("ev_save",[this,"KeyUp"])}}(f)},containerType:l.CONTAINER.TABLE});b(z.dom).click(function(a){return function(){function c(a){a&&(z.toggleStatic(!1),z.getValue()==label.noSpeedLimit?
z.setValue(0):-1!=z.getValue().indexOf(label.unitKBs)&&z.setValue(z.getValue().replace(label.unitKBs,"")),z.input.select())}b(this).find("li.inputLi").hasClass("static")&&"function"==typeof a.onClick&&a.onClick(c)}}(k));b(f).find("span.deviceSpeed").css("display","none");u=b("<div></div>").addClass("itemOption")[0];d=b("<i></i>").addClass("iconfont icon-speedlimit");u.appendChild(d[0]);u.appendChild(b("<span></span>").html(label.speedLimit)[0]);f.appendChild(u);b(u).click(function(a,c){return function(){function e(c){c&&
b(a).trigger("ev_switchLimit")}"function"==typeof c.onClick&&c.onClick(e)}}(f,k));"0"==n&&"0"==s?(b(u).css("display","block"),b(f).find("span.deviceSpeed").css("display","none")):(b(u).css("display","none"),b(f).find("span.deviceSpeed").css("display","block"),"0"==n&&y.setValue(label.noSpeedLimit),"0"==s&&z.setValue(label.noSpeedLimit));b(f).on("ev_switchUnlimit",function(a){return function(c){b(a).find("div.itemOption").css("display","block");b(a).find("span.deviceSpeed").css("display","none")}}(f));
b(f).on("ev_switchLimit",function(a,c,e){return function(c){b(a).find("div.itemOption").css("display","none");b(a).find("span.deviceSpeed").css("display","block");y.toggleStatic(!1);y.setValue("");z.toggleStatic(!1);z.setValue("");b(y.dom).find("li.inputLi").trigger("mouseout");b(y.input).trigger("select")}}(f,y,z));b(f).on("ev_save",function(a,e,d,f){return function(g,h,k){g=h==e?"upLimit":"downLimit";if("KeyUp"==k||!1==e.isMouseOver&&!1==d.isMouseOver){if("function"==typeof a.onSave)a.onSave(e,
d,c,h);h.toggleStatic(!0);h.setValue("0"==c[g]?label.noSpeedLimit:c[g]+label.unitKBs);h="upLimit"==g?d:e;k="upLimit"==g?"downLimit":"upLimit";b(h.dom).find("li.inputLi").hasClass("static")||(h.toggleStatic(!0),h.setValue("0"==c[k]?label.noSpeedLimit:c[k]+label.unitKBs));"0"==c.upLimit&&"0"==c.downLimit&&b(f).trigger("ev_switchUnlimit")}}}(k,y,z,f));break;default:n=parseInt(b(f).css("font-size")),s=parseInt(b(b(this.table).find("tr.TableHead").find("td")[m+(this._ops.hasCheckBox?1:0)]).css("width")),
d=c[k.name],d=void 0==d?"":d.toString(),f.title=d,d=!0==k.igHTMLEscape?getStrInMaxWithPixel(d,n,s):htmlEscape(getStrInMaxWithPixel(d,n,s)),void 0!=k.onRender&&"function"==typeof k.onRender&&(d=k.onRender(c,d)),b(f).html(d),void 0!=k.className&&(f.className+=" "+k.className)}void 0!=k.props&&b.each(k.props,function(a,c){b(f).css(a,c)})}if(this._ops.editable||this._ops.deletable||null!=this._ops.itemOption){d="";f=a.insertCell(-1);f.className=this._ops.type;if(null!=this._ops.itemOption)for(k=0;k<this._ops.itemOption.length;k++)m=
this._ops.itemOption[k],h=m.onRender&&"function"==typeof m.onRender?m.onRender(c):{result:!1},d=h.result?d+h.str:d+('<div class="itemOption '+m.type+'"><i class="iconfont '+m.icon+'"></i><span>'+m.str+"</span></div>");this._ops.editable&&(h=g._ops.clickList.click_edit_item.icon||"icon-edit",k=g._ops.clickList.click_edit_item.str||btn.edit,s=g._ops.clickList.click_edit_item.onRender||function(){return!0},s(c)&&(d+='<div class="itemOption edit"><i class="iconfont icon-edit"></i><span>'+btn.edit+"</span></div>"));
this._ops.deletable&&(h=g._ops.clickList.click_del_item.icon||"icon-delete",k=g._ops.clickList.click_del_item.str||btn.clear,s=g._ops.clickList.click_del_item.onRender||function(){return!0},s(c)&&(d+='<div class="itemOption delete"><i class="iconfont '+h+'"></i><span>'+k+"</span></div>"));f.innerHTML=d;b(f).find("div").last().addClass("itemOptionLast");if(this._ops.editable)b(f).find("div.edit").on("click",function(b){switch(g._getState()){case p.STATE.EDIT:return;case p.STATE.DEFAULT:break;default:return}g._setState(p.STATE.EDIT);
g.closeBlankTips(null,!0);g._fillEditRow("edit",a,c,e);g._updateEvent(p.STATE.EDIT)});if(this._ops.deletable)b(f).find("div.delete").on("click",function(c){if(!b(this).hasClass("disabled")){c=g._getTrIndexInTable(a);var e=g._getTrIndexInDataObj(a).toString();g._delDataHandle(e,[c])}});if(null!=this._ops.itemOption)for(k=0;k<this._ops.itemOption.length;k++)m=this._ops.itemOption[k],b(f).find("div."+m.type).on("click",function(b){b=g._getTrIndexInTable(a);var c=g._getTrIndexInDataObj(a).toString();
void 0!=m.func&&"function"==typeof m.func&&m.func(c,b)})}};p.prototype._fillEditRow=function(a,e,c,h){var g=this._ops.column,f=this,d,m;if(a==p.STATE.EDIT){var k=e.cells.length;try{e.innerHTML=""}catch(n){for(;0<k;)e.deleteCell(0),k=e.cells.length}}this.editTrObj=[];f._ops.hasCheckBox&&(d=e.insertCell(-1),d.className=this._ops.type,d.id="checkbox "+h,setStyle(d,{textAlign:"left"}),m=new r({targetId:d.id,onClick:function(){var a,c,e,d=!0,g=!1;if(!1!=f._ops.hasHead&&(a=f.table.rows,c=f.selAllCheckBoxObj,
e=a.length,null!=c)){for(var h=1;h<e;h++)checkbox=f.data[f.data.length-h].CHECK_BOX,"none"!=a[h].style.display&&!1==checkbox.getValue()?d=!1:!0==checkbox.getValue()&&(g=!0);g?b(f).trigger("ev_sel_item"):b(f).trigger("ev_sel_none");c.setValue(d);f._ops.clickList.click_check&&"function"==typeof f._ops.clickList.click_check.func&&f._ops.clickList.click_check.func(g,d)}}}),c.CHECK_BOX=m);for(var s=0;s<g.length;s++)if(d=e.insertCell(-1),m=g[s],type=m.type,value=c[m.name],"ports"==type&&(value=""),!1==
m.edit&&a!=p.STATE.ADD)d.innerHTML=value?"mac"==m.type?value.toUpperCase():value:"",this.editTrObj.push({editable:!1,name:m.name,value:value});else switch(type){case "btn":break;case "mask":case "dns":case "gateway":case "ip":case "mac":case "ports":d.id=type+"Addr"+h+this._ops.targetId+s;d={type:l.TYPE.PLAIN_TEXT,targetId:d.id,props:{type:"text"},size:l.SIZE.SMALL,containerType:l.CONTAINER.TABLE,check:{blur:function(a){return function(){var b,c;if((b=a.call(window,this.input.value.toString()))!=
ENONE){switch(b){case EINVNET:c=errStr.ipAddrNetErr;break;case EINVIP:c=errStr.ipAddrErr;break;case EINVIPFMT:c=errStr.ipAddrFmtErr;break;case EINVGROUPIP:c=errStr.ipAddrGroupErr;break;case EINVLOOPIP:c=errStr.ipAddrLoopErr;break;case EINVMACFMT:c=errStr.macFmtErr;break;case EINVMACZERO:c=errStr.macZeroErr;break;case EINVMACBROAD:c=errStr.macBroadErr;break;case EINVMACGROUP:c=errStr.macGroupErr;break;case EINVMASK:c=errStr.maskErr;break;case EINVPORTFMT:c=errStr.portIllegalFmtErr;break;case EINVPORT:c=
errStr.invPortErr;break;case EILLEGALPORT:c=errStr.inputEliegalChar}this.showNote(c);return!1}return!0}}("mask"==type?checkMask:"mac"==type?checkMac:"ports"==type?checkPorts:checkIp)}};void 0!=m.isAllowBlank&&(d.isAllowBlank=m.isAllowBlank);void 0!=m.isAllowAllSpace&&(d.isAllowAllSpace=m.isAllowAllSpace);d.props.maxLength=m.maxLength?m.maxLength:"mac"==type?17:15;d=new l(d);if(void 0!=value){if("mac"==type)value=value.toUpperCase();else if("ports"==type){var q=m.name.split(" "),t=c[q[0]];"undefined"!=
typeof t&&(value=c[q[1]]!=t?t+"-"+c[q[1]]:t)}d.setValue(value)}this.editTrObj.push({editable:"true",name:m.name,type:type,container:d});break;case "select":var q=document.createElement("ul"),t=document.createElement("li"),v=document.createElement("span"),w=document.createElement("span"),y=document.createElement("span"),z=document.createElement("i");q.className="inputCMPT small";d.appendChild(q);t.className="inputLi";q.appendChild(t);v.className="table selectWrap";t.appendChild(v);w.id=m.name+"Select"+
h;w.className="select";v.appendChild(w);y.className="value";w.appendChild(y);z.className="arrow iconfont icon-folddropdown";w.appendChild(z);if(void 0==value||0==value.length)value=void 0==m.defaultValue?0:m.defaultValue;selectInit(w.id,m.options,value,m.func,m.maxSelSize);this.editTrObj.push({editable:"true",name:m.name,type:type,container:w});break;default:d.id=type+"Input"+h+this._ops.targetId+s,d={type:l.TYPE.PLAIN_TEXT,targetId:d.id,props:{type:"text"},containerType:l.CONTAINER.TABLE,size:l.SIZE.SMALL},
void 0!=m.isAllowBlank&&(d.isAllowBlank=m.isAllowBlank),void 0!=m.isAllowAllSpace&&(d.isAllowAllSpace=m.isAllowAllSpace),void 0!=m.check&&(d.check=m.check),d.props.maxLength=m.maxLength?m.maxLength:15,d=new l(d),void 0!=value&&0!=value.length&&d.setValue(value),this.editTrObj.push({editable:"true",name:m.name,type:type,container:d})}a="";d=e.insertCell(-1);d.className=this._ops.type;a+='<div class="itemOption cancel"><i class="iconfont icon-close"></i><span>'+btn.cancel+'</span></div><div class="itemOption save"><i class="iconfont icon-ok"></i><span>'+
btn.save+"</span></div>";d.innerHTML=a;b(d).find("div").last().addClass("itemOptionLast");b(d).find("div.cancel").on("click",function(a){var b=e.cells.length,d=f._getState();a=f.table;switch(d){case p.STATE.EDIT:try{e.innerHTML=""}catch(g){for(;0<b;)e.deleteCell(0),b=e.cells.length}f._insertRowData(e,h,c);break;case p.STATE.ADD:b=a.rows.length-1;a.deleteRow(!0==f._ops.hasHead?1:0);b=!0==f._ops.hasHead?b-1:b;if(0==b)break;f._pagingListInit(b,1)}f._setState(p.STATE.DEFAULT,!0);f._updateEvent(p.STATE.DEFAULT);
f._ops.clickList.click_cancel&&"function"==typeof f._ops.clickList.click_cancel.func&&f._ops.clickList.click_cancel.func()});b(d).find("div.save").on("click",function(a){function d(a){if(!1!=a){try{e.innerHTML=""}catch(S){for(;0<k;)e.deleteCell(0),k=e.cells.length}b.extend(c,r);g==p.STATE.ADD&&(m[s]=c);f._insertRowData(e,h,c);f._setState(p.STATE.DEFAULT,!0);f._updateEvent(p.STATE.DEFAULT)}}var g=f._getState();a=f._ops.clickList.click_save;var m=f.data,n,l,q={},r={};switch(g){case p.STATE.DEFAULT:return;
case p.STATE.EDIT:n=p.STATE.EDIT;s=f._getTrIndexInDataObj(e);q=f.data[s];b.extend(r,q);l=f._saveDataCheckHandle(q,r);break;case p.STATE.ADD:n=p.STATE.ADD,s=f._getTableDataRows()-1,f._formatBlankData(q),l=f._saveDataCheckHandle(q,r)}if(!0==l.result)if(n==p.STATE.EDIT&&!1==l.isChange){try{e.innerHTML=""}catch(S){for(;0<k;)e.deleteCell(0),k=e.cells.length}f._insertRowData(e,h,c);f._setState(p.STATE.DEFAULT,!0);f._updateEvent(p.STATE.DEFAULT)}else void 0!=a?(l=a.func,(a=a.asyn)?l(n,r,s,d):d(l(n,r,s))):
d(!0)})};p.prototype._pagingListInit=function(a,e){var c=this,h=this.table,g=id(this._ops.targetId),f=this._ops.targetId+"PagingList",d=this._ops.numPerPage,m=parseInt(a/d+(0==a||0<a%d?1:0)),k;void 0==id(f)&&(k=document.createElement("div"),k.id=f,k.className="pagingList",k.style.display="none",g.appendChild(k));id(f).innerHTML="";if(1>=m){id(f).style.display="none";c._ops.currentPage=1;k=h.rows;i=0;for(f=k.length;i<f;i++)k[i].style.display="table-row";if(null!=c._ops.hasFixedHeight)if(d-=c._getTableDataRows(),
0==d)this.fixedHeightObj.css("display","none");else{this.fixedHeightObj.empty();for(i=0;i<d;i++)k=b("<div></div>"),k.css("height",parseInt(c._constant.normalTrHeight)-1),i!=d-1&&k.css("border-bottom","1px solid #E7E7E7"),this.fixedHeightObj.append(k);this.fixedHeightObj.css("display","block")}}else id(f).style.display="block",d=document.createElement("span"),d.className="pagingListBtn arrow arrowPre",d.onclick=function(){b(this).hasClass("disabled")||(c._ops.currentPage=1,null!=c._ops.pageNumClickFunc?
c._ops.pageNumClickFunc(1):c._gotoPage(1,m))},d.innerHTML='<i class="iconfont icon-firstpage"></i>',id(f).appendChild(d),d=document.createElement("span"),d.className="pagingListBtn arrow arrowPre",d.onclick=function(){b(this).hasClass("disabled")||(c._ops.currentPage+=1==c._ops.currentPage?0:-1,null!=c._ops.pageNumClickFunc?c._ops.pageNumClickFunc(c._ops.currentPage):c._gotoPage(c._ops.currentPage,m))},d.innerHTML='<i class="iconfont icon-back"></i>',id(f).appendChild(d),k=document.createElement("div"),
k.className="pagingListBtnContainer",id(f).appendChild(k),d=document.createElement("span"),d.className="pagingListBtn arrow arrowNext",d.onclick=function(){b(this).hasClass("disabled")||(c._ops.currentPage+=c._ops.currentPage==m?0:1,null!=c._ops.pageNumClickFunc?c._ops.pageNumClickFunc(c._ops.currentPage):c._gotoPage(c._ops.currentPage,m))},d.innerHTML='<i class="iconfont icon-next"></i>',id(f).appendChild(d),d=document.createElement("span"),d.className="pagingListBtn arrow arrowNext last",d.onclick=
function(){b(this).hasClass("disabled")||(c._ops.currentPage=m,null!=c._ops.pageNumClickFunc?c._ops.pageNumClickFunc(m):c._gotoPage(m,m))},d.innerHTML='<i class="iconfont icon-lastpage"></i>',id(f).appendChild(d),this._gotoPage(e,m)};p.prototype._gotoPage=function(a,e){var c=this,h=id(this._ops.targetId),g=b(h).find(".pagingListBtnContainer")[0],f=this._ops.numPerPage,d=this.table.rows,m=d.length,k,n;a>e&&(a=e,c._ops.currentPage=e);var l=this._pagingItemAlg(a,e),p=l.length;g.innerHTML="";for(n=0;n<
p;n++)k=document.createElement("span"),"..."!=l[n]?(k.className=0==n||n==p-1?0==n?"pagingListBtn digital first":"pagingListBtn digital last":"pagingListBtn digital",a==l[n]&&(k.className+=" current"),k.onclick=function(){c._ops.currentPage=parseInt(this.innerHTML);null!=c._ops.pageNumClickFunc?c._ops.pageNumClickFunc(parseInt(this.innerHTML)):c._gotoPage(parseInt(this.innerHTML),e)}):k.className="pagingListBtn nonDigital",b(h).find(".arrowPre").removeClass("disabled"),b(h).find(".arrowNext").removeClass("disabled"),
1==a&&b(h).find(".arrowPre").addClass("disabled"),a==e&&b(h).find(".arrowNext").addClass("disabled"),k.innerHTML=l[n],g.appendChild(k);n=!0==this._ops.hasHead?1:0;g=!0==this._ops.hasHead?1:0;g+=(a-1)*f;k=!0==this._ops.hasHead?0:-1;k+=a*f;for(n;n<m;n++)h=d[n],h.style.display=n<g||n>k?"none":"table-row";if(null!=c._ops.hasFixedHeight)if(a==e)if(f-=c.data.length%f,0==f)this.fixedHeightObj.css("display","none");else{this.fixedHeightObj.empty();for(n=0;n<f;n++)h=b("<div></div>"),h.css("height",parseInt(c._constant.normalTrHeight)-
1),n!=f-1&&h.css("border-bottom","1px solid #E7E7E7"),this.fixedHeightObj.append(h);this.fixedHeightObj.css("display","block")}else this.fixedHeightObj.css("display","none");if(!0==this._ops.hasCheckBox){f=1<m?!0:!1;for(n=!0==this._ops.hasHead?1:0;n<m;n++)h=d[n],"none"==h.style.display||null!=h.cells[0].childNodes[0]&&!1!=h.cells[0].childNodes[0].checked||(f=!1);!0==this._ops.hasHead&&this.selAllCheckBoxObj.setValue(f)}null!=this._ops.pageTurnCallback&&"function"==typeof this._ops.pageTurnCallback&&
this._ops.pageTurnCallback()};p.prototype._pagingItemAlg=function(a,b){var c=[];if(9>b)for(var h=1;h<=b;h++)c.push(h);else c=9==b&&5==a?[1,2,3,4,5,6,"...",8,9]:1<=a&&4>=a?[1,2,3,4,5,6,"...",b-1,b]:b-4<=a&&a<=b?[1,"...",b-6,b-5,b-4,b-3,b-2,b-1,b]:[1,"...",a-2,a-1,a,a+1,a+2,"...",b-1,b];return c};p.prototype._calcShowSize=function(a,e){var c,h;h=parseInt(b(a).css("font-size"));c=parseInt(b(a).actual("width"));c=parseInt(c/(0.65*h));return c=void 0!=e.maxSize?e.maxSize:c};p.prototype._formatBlankData=
function(a){var b=this._ops.column,c;for(c in b)a[b[c].name]=""};p.prototype._getTableDataRows=function(){return!0==this._ops.hasHead?this.table.rows.length-1:this.table.rows.length};p.prototype._saveDataCheckHandle=function(a,b){var c=this.editTrObj,h,g,f,d=!1,m=!0,k;for(k in c)if(h=c[k],!1==h.editable)b[h.name]=h.value;else{switch(h.type){case "mask":case "dns":case "gateway":case "ip":case "mac":case "ports":case "str":null!=h.container&&(!0!=h.container.checkAll()&&(m=!1),"ports"==h.type?(g=h.name.split(" "),
f=h.container.input.value.split("-"),2==f.length?(0!=f[0].length&&!1==/\D/g.test(f[0])?f[0]=parseInt(f[0]):f[0]="",0!=f[1].length&&!1==/\D/g.test(f[1])?f[1]=parseInt(f[1]):f[1]="",b[g[0]]=f[0]>f[1]?f[1]:f[0],b[g[1]]=f[0]>f[1]?f[0]:f[1]):1==f.length&&(temp=f[0],0!=temp.length&&!1==/\D/g.test(temp)?(b[g[0]]=parseInt(temp),b[g[1]]=parseInt(temp)):(b[g[0]]="",b[g[1]]=""))):b[h.name]=h.container.input.value);break;case "select":b[h.name]=h.container.value;break;default:b[h.name]=h.container.input.value}if("ports"==
h.type)if(g=h.name.split(" "),f=h.container.input.value.split("-"),2==f.length){if(f[0]=parseInt(f[0]),f[1]=parseInt(f[1]),f[0]!=a[g[0]]||f[1]!=a[g[1]])d=!0}else 1==f.length&&(temp=f[0],temp=parseInt(temp),temp!=a[g[0]]||temp!=a[g[1]])&&(d=!0);else value="select"==h.type?h.container.value:h.container.input.value,value!=a[h.name]&&(d=!0)}return{result:m,isChange:d}};p.prototype._delDataHandle=function(a,b){function c(){function c(k){var r;if(!1!=k){m=a.split("-");n=b[0];r==m.length+n-1?(n--,n=n||0):
"none"==f[n].style.display&&(n=b[0]);k=0;for(r=m.length;k<r;k++)q=m[k],b[k]-=k,g.deleteRow(b[k]),d.splice(q,1);r=h._getTableDataRows();k=parseInt(n/l)+(0<n%l?1:0);h._pagingListInit(r,1>k?1:k);h._setState(p.STATE.DEFAULT);h._updateEvent(p.STATE.DEFAULT)}}var k=h._ops.clickList.click_del_item;if(null!=k.func&&null!=k.asyn){var r=k.func;!0==k.asyn?r(a,c):c(r(a))}else c(!0)}var h=this,g=this.table,f=g.rows,d=this.data;this._getState();var m=[],k=this._ops.clearAllTips,n=0,l=h._ops.numPerPage,q;0!=a.length&&
(void 0!=k&&0!=k.length&&a.split("-"),c(!0))};p.prototype._getTrIndexInTable=function(a){for(var b=this.table.rows,c=-1,h=!0==this._ops.hasHead?1:0,g=b.length;h<g;h++)if(a===b[h]){c=h;break}return c};p.prototype._getTrIndexInDataObj=function(a){var b=this.table.rows,c=-1,h=this._ops.hasHead?b.length-2:b.length-1;if(null==a)return c;for(var g=!0==this._ops.hasHead?1:0,f=b.length;g<f;g++)if(a===b[g]){c=g;break}if(-1==c)return c;c=!0==this._ops.hasHead?c-1:c;return h-c};p.prototype._setState=function(a,
b){if(!0!=b&&this._state!=p.STATE.DEFAULT)return!1;this._state=a;return!0};p.prototype._getState=function(){return this._state};p.prototype._updateEvent=function(a){var e=this._getTableDataRows(),c=this.table;a==p.STATE.DEFAULT?b(this).trigger("ev_default"):a!=p.STATE.ADD&&a!=p.STATE.EDIT||b(this).trigger("ev_edit");0==e?b(this).trigger("ev_none_item"):e==this._ops.max?b(this).trigger("ev_max_item"):b(this).trigger("ev_has_item");if(this._ops.hasCheckBox){0!=this._getSelectItem().length&&!1;b(this).trigger("ev_sel_none");
a=0<e?!0:!1;for(i=!0==this._ops.hasHead?1:0;i<c.rows.length;i++)if(e=c.rows[i],"none"!=e.style.display&&(null==e.cells[0].childNodes[0]||!1==e.cells[0].childNodes[0].checked)){a=!1;break}!0==this._ops.hasHead&&this.selAllCheckBoxObj.setValue(a)}};p.prototype._getSelectItem=function(){var a=this.table.rows,b=this.data,c=this._getState(),h=a.length,g,f,d,m="",k=[];if(!this._ops.hasCheckBox)return{selArrStr:"",selArr:[]};g=!0==this._ops.hasHead?1:0;f=a.length-g;c=c==p.STATE.ADD?-1:0;for(f+=c;g<h;g++)d=
a[g],1!=d.cells.length&&(d=d.cells[0].childNodes[0],null!=d&&(d=b[f-g-c].CHECK_BOX,!0==d.getValue()&&k.push(g)));for(g=0;g<k.length;g++)m+=f-k[g]-c+"-";0!=m.length&&(m=m.substring(0,m.length-1));return{selArrStr:m,selArr:k}};p.TYPE={NORMAL:"normal",DEVICE:"device"};p.STATE={DEFAULT:"default",ADD:"add",EDIT:"edit"};B.prototype._render=function(){var a=this;this.iframeName=a._ops.targetId+"If";this.dom=b('<form enctype="multipart/form-data" id="upFileForm" method="post" target="'+this.iframeName+'"><div id="fileText" class="fileDiv"></div><div id="fileButton" class="fileDiv"></div><input type="file" name="fileName" id="fileName"><iframe class="upFileIf" id="'+
this.iframeName+'" name="'+this.iframeName+'"></iframe></form>')[0];b("#"+this._ops.targetId).append(this.dom);this.form=b("#"+this._ops.targetId).find("form")[0];this.file=b(this.dom).find("input[type=file]")[0];this.iframe=b(this.dom).find("iframe")[0];this.text=new l({targetId:"fileText",type:l.TYPE.PLAIN_TEXT,containerType:l.CONTAINER.TABLE,props:{readonly:!0,cursor:"pointer"}});this.button=new t({type:t.TYPE.SECONDARY,text:btn.browse,id:"fileButton",props:{width:"80px",marginLeft:"8px",cursor:"pointer"}});
b(this.file).css("width",b(this.text.dom).find("li.inputLi").css("width")).css("height",b(this.text.dom).find("li.inputLi").css("height"));this.button._ops.onClick=function(){a.file.click()};this.file.onchange=function(){var b=this.value,b=b.substring(b.lastIndexOf("\\")+1);a.text.setValue(b);a.checkFile()}};B.prototype.submit=function(a,e){var c=this;if("function"==typeof this._ops.upLoadCallback&&(void 0==e||!0!=e))b(this.iframe).one("load",function(){iFrmOnload(c.iframeName,function(a,b){null!=
c._ops.loadStr?loadingDialog.hide(function(){c._ops.upLoadCallback(a,b)}):c._ops.upLoadCallback(a,b)})});void 0!=a&&"string"==typeof a&&(this.form.action=a);null!=this._ops.loadStr&&loadingDialog.show({title:c._ops.loadStr.title||label.confirmTitle,content:{primary:c._ops.loadStr.content}},void 0,void 0,!1,void 0);this.form.submit();this.form.reset()};B.prototype.setActionUrl=function(a){void 0!=a&&"string"==typeof a&&(this.form.action=a)};B.prototype.checkFile=function(){var a;a=this.text.getValue();
if(""==a)return this.text.showNote(errStr.upFileNull),!1;if(-1==a.search(/\.bin$/))return this.text.showNote(errStr.fileFmttErr),!1;if(null!=this._ops.fileFilter&&"function"==typeof this._ops.fileFilter){a=this._ops.fileFilter(a);if(!0!=a.result)return this.text.showNote(a.errStr),!1;this.text.closeNote();return!0}this.text.closeNote();return!0};return{Input:l,Button:t,Dialog:q,CheckBox:r,Radio:v,Tab:C,Table:p,UpFile:B}}(jQuery,window);$.extend(window,component);
(function(b,A,l){function t(){C=A[q](function(){r.each(function(){var l=b(this),q=l.width(),r=l.height(),t=b.data(this,B);q===t.w&&r===t.h||l.trigger(p,[t.w=q,t.h=r])});t()},v[E])}var r=b([]),v=b.resize=b.extend(b.resize,{}),C,q="setTimeout",p="resize",B=p+"-special-event",E="delay";v[E]=350;v.throttleWindow=!0;b.event.special[p]={setup:function(){if(!v.throttleWindow&&this[q])return!1;var l=b(this);r=r.add(l);b.data(this,B,{w:l.width(),h:l.height()});1===r.length&&t()},teardown:function(){if(!v.throttleWindow&&
this[q])return!1;var l=b(this);r=r.not(l);l.removeData(B);r.length||clearTimeout(C)},add:function(p){function r(p,q,a){var e=b(this),c=b.data(this,B);c.w=q!==l?q:e.width();c.h=a!==l?a:e.height();t.apply(this,arguments)}if(!v.throttleWindow&&this[q])return!1;var t;if(b.isFunction(p))return t=p,r;t=p.handler;p.handler=r}}})(jQuery,this);
(function(b){b.fn.addBack=b.fn.addBack||b.fn.andSelf;b.fn.extend({actual:function(A,l){if(!this[A])throw'$.actual => The jQuery method "'+A+'" you called does not exist';var t=b.extend({absolute:!1,clone:!1,includeMargin:!1},l),r=this.eq(0),v,C;if(!0===t.clone)v=function(){r=r.clone().attr("style","position: absolute !important; top: -1000 !important; ").appendTo("body")},C=function(){r.remove()};else{var q=[],p="",B;v=function(){B=r.parents().addBack().filter(":hidden");p+="visibility: hidden !important; display: block !important; ";
!0===t.absolute&&(p+="position: absolute !important; ");B.each(function(){var l=b(this);q.push(l.attr("style"));l.attr("style",p)})};C=function(){B.each(function(l){var p=b(this);l=q[l];void 0===l?p.removeAttr("style"):p.attr("style",l)})}}v();v=/(outer)/.test(A)?r[A](t.includeMargin):r[A]();C();return v}})})(jQuery);
(function(b){function A(){}function l(){try{return document.activeElement}catch(a){}}function t(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return!0;return!1}function r(a,b,c){if(a.addEventListener)return a.addEventListener(b,c,!1);if(a.attachEvent)return a.attachEvent("on"+b,c)}function v(a,b){var c;a.createTextRange?(c=a.createTextRange(),c.move("character",b),c.select()):a.selectionStart&&(a.focus(),a.setSelectionRange(b,b))}function C(a,b){try{return a.type=b,!0}catch(c){return!1}}function q(a,
b){if(a&&a.getAttribute(k))b(a);else for(var c=a?a.getElementsByTagName("input"):F,d=a?a.getElementsByTagName("textarea"):H,e=c?c.length:0,f=e+(d?d.length:0),g,h=0;h<f;h++)g=h<e?c[h]:d[h-e],b(g)}function p(a){q(a,E)}function B(a){q(a,G)}function E(a,b){var c=!!b&&a.value!==b,d=a.value===a.getAttribute(k);if((c||d)&&"true"===a.getAttribute(n)){a.removeAttribute(n);a.value=a.value.replace(a.getAttribute(k),"");a.className=a.className.replace(m,"");c=a.getAttribute(I);0<=parseInt(c,10)&&(a.setAttribute("maxLength",
c),a.removeAttribute(I));if(c=a.getAttribute(s))a.type=c;return!0}return!1}function G(a){var b=a.getAttribute(k);return""===a.value&&b?(a.setAttribute(n,"true"),a.value=b,a.className+=" "+d,a.getAttribute(I)||(a.setAttribute(I,a.maxLength),a.removeAttribute("maxLength")),a.getAttribute(s)?a.type="text":"password"===a.type&&C(a,"text")&&a.setAttribute(s,"password"),!0):!1}function J(a){return function(){N&&a.value===a.getAttribute(k)&&"true"===a.getAttribute(n)?v(a,0):E(a)}}function K(a){return function(){G(a)}}
function L(a){return function(){p(a)}}function M(a){return function(b){z=a.value;if("true"===a.getAttribute(n)&&z===a.getAttribute(k)&&t(f,b.keyCode))return b.preventDefault&&b.preventDefault(),!1}}function a(a){return function(){E(a,z);""===a.value&&(a.blur(),v(a,0))}}function e(a){return function(){a===l()&&a.value===a.getAttribute(k)&&"true"===a.getAttribute(n)&&v(a,0)}}function c(b){var c=b.form;c&&"string"===typeof c&&(c=document.getElementById(c),c.getAttribute(u)||(r(c,"submit",L(c)),c.setAttribute(u,
"true")));r(b,"focus",J(b));r(b,"blur",K(b));N&&(r(b,"keydown",M(b)),r(b,"keyup",a(b)),r(b,"click",e(b)));b.setAttribute(O,"true");b.setAttribute(k,D);(N||b!==l())&&G(b)}var h=void 0!==document.createElement("input").placeholder;b.Placeholders={nativeSupport:h,disable:h?A:p,enable:h?A:B};if(!h){var g="text search url tel email password number textarea".split(" "),f=[27,33,34,35,36,37,38,39,40,8,46],d="placeholdersjs",m=RegExp("(?:^|\\s)"+d+"(?!\\S)"),k="data-placeholder-value",n="data-placeholder-active",
s="data-placeholder-type",u="data-placeholder-submit",O="data-placeholder-bound",I="data-placeholder-maxlength",h=document.getElementsByTagName("head")[0],w=document.documentElement,y=b.Placeholders,z,F=document.getElementsByTagName("input"),H=document.getElementsByTagName("textarea"),N="false"===w.getAttribute("data-placeholder-focus"),Q="false"!==w.getAttribute("data-placeholder-live"),w=document.createElement("style");w.type="text/css";var P=document.createTextNode("."+d+" {color:#ccc !important;}");
w.styleSheet?w.styleSheet.cssText=P.nodeValue:w.appendChild(P);h.insertBefore(w,h.firstChild);for(var D,x,h=0,w=F.length+H.length;h<w;h++)x=h<F.length?F[h]:H[h-F.length],(D=x.attributes.placeholder)&&(D=D.nodeValue)&&t(g,x.type)&&c(x);var R=setInterval(function(){for(var a=0,b=F.length+H.length;a<b;a++)(x=a<F.length?F[a]:H[a-F.length],D=x.attributes.placeholder)?(D=D.nodeValue)&&t(g,x.type)&&(x.getAttribute(O)||c(x),D!==x.getAttribute(k)||"password"===x.type&&!x.getAttribute(s))&&("password"===x.type&&
!x.getAttribute(s)&&C(x,"text")&&x.setAttribute(s,"password"),x.value===x.getAttribute(k)&&(x.value=D),x.setAttribute(k,D)):x.getAttribute(n)&&(E(x),x.removeAttribute(k));Q||clearInterval(R)},100);r(b,"beforeunload",function(){y.disable()})}})(this);
(function(b,A){var l=b.fn.val,t=b.fn.prop;A.Placeholders.nativeSupport||(b.fn.val=function(b){var t=l.apply(this,arguments),A=this.eq(0).data("placeholder-value");return void 0===b&&this.eq(0).data("placeholder-active")&&t===A?"":t},b.fn.prop=function(b,l){return void 0===l&&this.eq(0).data("placeholder-active")&&"value"===b?"":t.apply(this,arguments)})})(jQuery,this);
Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(b,A){if(null==this)throw new TypeError('"this" is null or not defined');var l=Object(this),t=l.length>>>0;if("function"!==typeof b)throw new TypeError("predicate must be a function");for(var r=0;r<t;){var v=l[r];if(b.call(A,v,r,l))return v;r++}}});
Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(b,A){if(null==this)throw new TypeError('"this" is null or not defined');var l=Object(this),t=l.length>>>0;if("function"!==typeof b)throw new TypeError("predicate must be a function");for(var r=0;r<t;){if(b.call(A,l[r],r,l))return r;r++}return-1}});
